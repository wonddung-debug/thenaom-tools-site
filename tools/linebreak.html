<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>줄바꾸기 · 줄바꿈 제거 | Thenaom Tools</title>
  <meta name="description" content="구분자(마침표, 쉼표, 사용자 지정) 기준으로 줄바꾸기를 하거나 모든 줄바꿈을 제거합니다. 빈줄 유지, 연속 공백 정리, 양끝 공백 제거 지원.">
  <link rel="canonical" href="https://tools.thenaom.com/tools/linebreak.html">
  <link rel="stylesheet" href="../assets/styles.css">
</head>
<body>
<header class="site">
  <div class="container" style="display:flex;gap:16px;align-items:center;justify-content:space-between">
    <a class="brand" href="/">Thenaom Tools</a>
    <nav>
      <ul>
        <li><a class="active" href="/text/">텍스트 정리</a></li>
        <li><a href="/convert/">분할/변환</a></li>
        <li><a href="/utility/">유틸</a></li>
      </ul>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>줄바꾸기 / 줄바꿈 제거</h1>
    <p class="muted">기본 구분자(.,!? 등) 또는 사용자 지정 토큰 기준으로 줄바꾸기. 불필요한 줄바꿈은 제거.</p>
  </div>
</section>

<div class="container">
  <div class="ad-placeholder"><b>광고 자리</b><small>AdSense 승인 후 코드 (naom_linebreak_top)</small></div>

  <section class="card">
    <div class="item-row">
      <label>작업:
        <select id="mode">
          <option value="insert">구분자 기준 줄바꾸기</option>
          <option value="remove">모든 줄바꿈 제거</option>
        </select>
      </label>
      <label><input type="checkbox" id="keepPara" checked> 빈줄(문단) 유지</label>
      <label><input type="checkbox" id="collapse" checked> 연속 공백 정리</label>
      <label><input type="checkbox" id="trim" checked> 각 줄 양끝 공백 제거</label>
      <span class="stat" id="stat">입력 0줄 / 0자</span>
    </div>
    <div class="item-row" style="margin-top:8px">
      <input id="custom" type="text" placeholder="구분자 입력 (쉼표로 여러개)">
      <button class="btn" id="run">실행</button>
      <button class="btn secondary" id="swap">입력↔출력</button>
      <button class="btn secondary" id="copy">복사</button>
      <button class="btn secondary" id="clear">지우기</button>
    </div>
  </section>

  <div class="grid cols2">
    <article class="card"><h2>입력</h2><textarea id="in"></textarea></article>
    <article class="card"><h2>출력</h2><textarea id="out"></textarea><p class="stat" id="statOut"></p></article>
  </div>

  <div class="ad-placeholder"><b>광고 자리</b><small>AdSense 승인 후 코드 (naom_linebreak_bottom)</small></div>

  <h2 class="section-title">관련 도구</h2>
  <div class="grid cols2">
    <article class="card"><h2>빈줄 제거</h2><p>공백 줄·연속 공백 삭제.</p><a class="btn" href="/tools/blankline.html">열기</a></article>
    <article class="card"><h2>중복 줄 제거</h2><p>중복된 행 삭제.</p><a class="btn" href="/tools/dedupe-lines.html">열기</a></article>
  </div>
</div>

<footer class="site"><div class="container">© <span id="y"></span> Thenaom Tools</div></footer>
<script>document.getElementById('y').textContent=new Date().getFullYear();</script>

<script>
const $=s=>document.querySelector(s);
const norm=s=>s.replace(/\r\n/g,'\n').replace(/\r/g,'\n');
const escapeRegExp=s=>s.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');

function updateStats(){
  const i=$('#in').value,o=$('#out').value;
  $('#stat').textContent=`입력 ${norm(i).split('\n').length}줄 / ${i.length}자`;
  $('#statOut').textContent=`출력 ${norm(o).split('\n').length}줄 / ${o.length}자`;
}

function removeLineBreaks(text,{keepPara,collapse,trim}){
  let s=norm(text);
  if(keepPara) s=s.split(/\n{2,}/).map(p=>p.replace(/\n+/g,' ')).join('\n\n');
  else s=s.replace(/\n+/g,' ');
  if(collapse) s=s.replace(/[ \t]{2,}/g,' ');
  if(trim) s=s.split('\n').map(x=>x.trim()).join('\n');
  return s;
}

function insertBySeparators(text,{seps,keepPara,collapse,trim}){
  let s=norm(text);
  const paras=keepPara?s.split(/\n{2,}/):[s.replace(/\n+/g,' ')];
  if(!seps.length) return s;
  const re=new RegExp('('+seps.map(escapeRegExp).join('|')+')','g');
  return paras.map(p=>{
    let t=p.replace(/\n+/g,' ');
    if(collapse) t=t.replace(/[ \t]{2,}/g,' ');
    if(trim) t=t.trim();
    return t.replace(re,m=>m+'\n').replace(/\n{3,}/g,'\n\n');
  }).join('\n\n');
}

function run(){
  const mode=$('#mode').value;
  const opts={keepPara:$('#keepPara').checked,collapse:$('#collapse').checked,trim:$('#trim').checked};
  let result='';
  if(mode==='remove') result=removeLineBreaks($('#in').value,opts);
  else{
    const seps=$('#custom').value.split(',').map(s=>s.trim()).filter(Boolean);
    result=insertBySeparators($('#in').value,{...opts,seps});
  }
  $('#out').value=result; updateStats();
}

$('#run').addEventListener('click',run);
$('#copy').addEventListener('click',()=>navigator.clipboard.writeText($('#out').value||''));
$('#clear').addEventListener('click',()=>{$('#in').value='';$('#out').value='';updateStats();});
$('#swap').addEventListener('click',()=>{const t=$('#in').value;$('#in').value=$('#out').value;$('#out').value=t;updateStats();});
['input','keyup','change'].forEach(ev=>$('#in').addEventListener(ev,updateStats));
</script>
</body>
</html>
