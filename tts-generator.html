<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TTS ì—­í•  ëŒ€í™” ìƒì„±ê¸°</title>
  <style>
    :root{ 
      --bg:#ffffff; --text:#0b1220; --muted:#6b7280; --border:#e5e7eb; 
      --card:#ffffff; --accent:#2563eb; --btn-text:#ffffff; 
      --shadow:0 4px 12px rgba(0,0,0,.1); --input:#0b1220; --input-bg:var(--card); 
      --success:#10b981; --warning:#f59e0b; --danger:#ef4444;
    }
    
    [data-theme="dark"]{ 
      --bg:#0f172a; --text:#f1f5f9; --muted:#9ca3af; --border:#374151; 
      --card:#1f2937; --accent:#3b82f6; --btn-text:#ffffff; 
      --shadow:0 4px 12px rgba(0,0,0,.3); --input:#f9fafb; --input-bg:#374151; 
    }
    
    * { box-sizing: border-box; }
    html, body { 
      background: var(--bg); color: var(--text); margin: 0; 
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, Arial, sans-serif;
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

    /* ë©”ì¸ ë ˆì´ì•„ì›ƒ */
    .main-layout {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
    }
    @media(min-width: 768px) {
      .main-layout {
        grid-template-columns: 2fr 1fr;
      }
    }

    .left-section, .right-section {
      display: flex; flex-direction: column; gap: 16px;
    }

    /* íŒ¨ë„ */
    .panel {
      border: 1px solid var(--border); border-radius: 8px; background: var(--card);
      box-shadow: var(--shadow); padding: 16px;
    }
    .panel h2 { margin: 0 0 12px 0; font-size: 1.1rem; font-weight: 600; }

    /* ë²„íŠ¼ */
    .btn {
      padding: 8px 16px; border: 1px solid var(--border); border-radius: 6px;
      background: var(--card); color: var(--text); cursor: pointer; font-size: 0.9rem;
      transition: all 0.2s; text-decoration: none; display: inline-block;
    }
    .btn:hover { border-color: var(--accent); color: var(--accent); }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; }
    .btn-primary { background: var(--accent); border-color: var(--accent); color: var(--btn-text); }
    .btn-primary:hover { background: color-mix(in srgb, var(--accent) 90%, black); }
    .btn-danger { background: var(--danger); border-color: var(--danger); color: white; }
    .btn.small { padding: 4px 8px; font-size: 0.8rem; }
    .btn.large { width: 100%; height: 44px; font-size: 1rem; font-weight: 500; }

    /* ì…ë ¥ ìš”ì†Œ */
    .text-input {
      width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 6px;
      background: var(--input-bg); color: var(--input); font-family: monospace;
      font-size: 0.9rem; line-height: 1.5; resize: vertical; min-height: 300px;
    }
    
    select, input[type="text"], input[type="password"] {
      width: 100%; padding: 8px 12px; border: 1px solid var(--border); border-radius: 6px;
      background: var(--input-bg); color: var(--input); font-size: 0.9rem;
    }

    /* ìºë¦­í„° ì¹´ë“œ */
    .character-list {
      display: flex; flex-direction: column; gap: 12px; max-height: 400px; overflow-y: auto;
    }

    .character-card {
      border: 1px solid var(--border); border-radius: 6px; padding: 12px;
      background: var(--card);
    }

    .character-card.default {
      border-color: var(--accent); background: color-mix(in srgb, var(--accent) 5%, var(--card));
    }

    .character-header {
      display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;
    }
    .character-name { font-weight: 500; }
    .character-status { font-size: 1.1em; }

    .voice-row {
      display: flex; flex-direction: column; gap: 8px; margin-bottom: 8px;
    }
    .voice-row label {
      font-size: 0.85rem; font-weight: 500; color: var(--muted);
    }

    .character-actions {
      display: flex; gap: 8px;
    }

    /* ì„¤ì • í–‰ */
    .setting-row {
      display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 12px;
    }
    .setting-row:last-child { margin-bottom: 0; }
    .setting-row label { font-size: 0.9rem; }
    .setting-row select { max-width: 150px; }

    /* í† ê¸€ */
    .toggle[aria-pressed="true"] {
      background: var(--accent); border-color: var(--accent); color: var(--btn-text);
    }

    /* íˆ´ë°” */
    .toolbar {
      display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px;
    }

    /* ì§„í–‰ ìƒíƒœ */
    .progress {
      height: 4px; background: var(--border); border-radius: 2px; overflow: hidden; margin: 12px 0;
    }
    .progress-fill {
      height: 100%; background: var(--accent); transition: width 0.3s; width: 0%;
    }

    /* í—¤ë” */
    .header {
      text-align: center; padding: 20px 0; margin-bottom: 20px;
    }
    .header h1 { margin: 0; color: var(--accent); }

    /* ìƒíƒœ */
    .status-ok { color: var(--success); }
    .status-warning { color: var(--warning); }
    .status-error { color: var(--danger); }

    /* ì¹´ìš´í„° */
    .counter {
      margin-top: 8px; font-size: 0.85rem; color: var(--muted);
    }

    /* API ìƒíƒœ */
    .api-status {
      display: flex; align-items: center; gap: 8px; margin-bottom: 12px;
    }
    .status-dot {
      width: 8px; height: 8px; border-radius: 50%;
    }
    .status-dot.connected { background: var(--success); }
    .status-dot.disconnected { background: var(--danger); }

    /* ì—ëŸ¬ ë©”ì‹œì§€ */
    .error-msg, .warning-msg, .success-msg {
      padding: 8px 12px; border-radius: 6px; font-size: 0.85rem; margin: 8px 0;
    }
    .error-msg {
      background: color-mix(in srgb, var(--danger) 10%, var(--card));
      border: 1px solid var(--danger); color: var(--danger);
    }
    .warning-msg {
      background: color-mix(in srgb, var(--warning) 10%, var(--card));
      border: 1px solid var(--warning); color: var(--warning);
    }
    .success-msg {
      background: color-mix(in srgb, var(--success) 10%, var(--card));
      border: 1px solid var(--success); color: var(--success);
    }

    /* ë‹¤í¬ëª¨ë“œ í† ê¸€ */
    .theme-toggle {
      position: fixed; top: 20px; right: 20px; z-index: 100;
      background: var(--card); border: 1px solid var(--border); border-radius: 6px;
      padding: 8px; cursor: pointer;
    }

    /* ì¶”ê°€ ìºë¦­í„° */
    .add-character {
      border: 2px dashed var(--border); border-radius: 6px; padding: 20px;
      text-align: center; cursor: pointer; transition: border-color 0.2s;
    }
    .add-character:hover { border-color: var(--accent); }

    /* ë¡œë”© */
    .loading {
      display: inline-block; width: 16px; height: 16px;
      border: 2px solid var(--border);
      border-top: 2px solid var(--accent);
      border-radius: 50%; animation: spin 1s linear infinite;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>
<body>
  <!-- ë‹¤í¬ëª¨ë“œ í† ê¸€ -->
  <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>

  <div class="container">
    
    <!-- í—¤ë” -->
    <div class="header">
      <h1>ğŸ­ TTS ì—­í•  ëŒ€í™” ìƒì„±ê¸°</h1>
      <p>ê° ìºë¦­í„°ë§ˆë‹¤ ë‹¤ë¥¸ ëª©ì†Œë¦¬ë¡œ ëŒ€í™”ë¥¼ ìŒì„±ìœ¼ë¡œ ë³€í™˜</p>
    </div>

    <!-- ë©”ì¸ ë ˆì´ì•„ì›ƒ -->
    <div class="main-layout">
      
      <!-- ì™¼ìª½: í…ìŠ¤íŠ¸ ì…ë ¥ -->
      <div class="left-section">
        
        <!-- í…ìŠ¤íŠ¸ ì…ë ¥ -->
<div class="panel">
  <h2>ğŸ“ ëŒ€í™” í…ìŠ¤íŠ¸</h2>
  
  <!-- í¸ì§‘ ë„êµ¬ë¥¼ ìƒë‹¨ìœ¼ë¡œ ì´ë™ -->
  <div class="toolbar" style="margin-bottom: 12px;">
    
    <button class="btn small" onclick="addNameToSelection()">â• ì´ë¦„ ì¶”ê°€</button>
    <button class="btn small" onclick="alternateNames()">ğŸ”„ A/B ë²ˆê°ˆì•„</button>
    <button class="btn small" onclick="clearText()">ğŸ—‘ï¸ ì „ì²´ ì‚­ì œ</button>
  </div>
  
  <textarea 
    id="textInput" 
    class="text-input" 
    placeholder="í• ë¨¸ë‹ˆ: ì˜›ë‚  ì˜›ì ì— ë§ì´ì•¼...&#10;ì†Œë…„: ì–´ë–¤ ì´ì•¼ê¸°ì˜ˆìš”?&#10;í• ë¨¸ë‹ˆ: ì•„ì£¼ ì¬ë¯¸ìˆëŠ” ì´ì•¼ê¸°ë€ë‹¤.">í• ë¨¸ë‹ˆ: ì˜›ë‚  ì˜›ì ì— ë§ì´ì•¼...
ì†Œë…„: ì–´ë–¤ ì´ì•¼ê¸°ì˜ˆìš”?
í• ë¨¸ë‹ˆ: ì•„ì£¼ ì¬ë¯¸ìˆëŠ” ì´ì•¼ê¸°ë€ë‹¤.
ì†Œë…„: ë¹¨ë¦¬ ë“¤ë ¤ì£¼ì„¸ìš”!</textarea>
          <div class="counter" id="counter">89 ê¸€ì</div>
          <div id="charactersFound" class="success-msg" style="display:none;"></div>
        </div>

        <!-- ëŒ€í™” ì„¤ì • -->
        <div class="panel">
          <h2>âš™ï¸ ëŒ€í™” ì„¤ì •</h2>
          
          <div class="setting-row">
            <label>í™”ì ì „í™˜ì‹œ ì‰¬ê¸°</label>
            <select id="speakerPause">
              <option value="0">0ms</option>
              <option value="150" selected>150ms</option>
              <option value="300">300ms</option>
              <option value="500">500ms</option>
            </select>
          </div>
          
          <div class="setting-row">
            <label>ë¬¸ì¥ ì‚¬ì´ ì‰¬ê¸°</label>
            <select id="sentencePause">
              <option value="0">0ms</option>
              <option value="150">150ms</option>
              <option value="300" selected>300ms</option>
              <option value="500">500ms</option>
            </select>
          </div>
          
          <div class="setting-row">
            <label>ê¸´ ê¸€ ìë™ ë‚˜ëˆ”</label>
            <button class="btn btn-primary toggle" id="autoSplit" aria-pressed="true">ON</button>
          </div>
        </div>



      </div>

      <!-- ì˜¤ë¥¸ìª½: ìºë¦­í„° ì„¤ì • & ìƒì„± -->
      <div class="right-section">
        
        <!-- ìºë¦­í„° ëª©ì†Œë¦¬ ì„¤ì • -->
        <div class="panel">
          <h2>ğŸ‘¥ ìºë¦­í„° ì„¤ì •</h2>
          
          <div class="toolbar">
            <button class="btn small" onclick="findCharacters()">ğŸ” ìºë¦­í„° ì°¾ê¸°</button>
            <button class="btn small" onclick="addCharacter()">â• ìºë¦­í„° ì¶”ê°€</button>
            <button class="btn btn-danger small" onclick="resetCharacters()">ğŸ—‘ï¸ ì „ì²´ ì´ˆê¸°í™”</button>
          </div>
          
          <div class="character-list" id="characterList">
            <!-- ìºë¦­í„°ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
          </div>
          
          <div class="add-character" onclick="addCharacter()">
            â• ìƒˆ ìºë¦­í„° ì¶”ê°€
          </div>
        </div>

        <!-- ì¶œë ¥ ì„¤ì • -->
        <div class="panel">
          <h2>ğŸ›ï¸ ì¶œë ¥ ì„¤ì •</h2>
          
          <div class="setting-row">
            <label>í˜•ì‹</label>
            <select id="audioFormat">
              <option value="MP3" selected>MP3</option>
              <option value="LINEAR16">WAV</option>
              <option value="OGG_OPUS">OGG</option>
            </select>
          </div>
          
          <div class="setting-row">
            <label>ìƒ˜í”Œë ˆì´íŠ¸</label>
            <select id="sampleRate">
              <option value="24000">24kHz</option>
              <option value="44100" selected>44.1kHz</option>
              <option value="48000">48kHz</option>
            </select>
          </div>
          
          <div class="setting-row">
            <label>ì¬ì‹œë„</label>
            <select id="retryCount">
              <option value="0">0íšŒ</option>
              <option value="1">1íšŒ</option>
              <option value="3" selected>3íšŒ</option>
            </select>
          </div>
        </div>

        <!-- ìŒì„± ìƒì„± -->
        <div class="panel">
          <h2>ğŸ¬ ìŒì„± ìƒì„±</h2>
          
          <div id="generationInfo" style="margin-bottom: 12px; font-size: 0.9rem; color: var(--muted);">
            â€¢ ìºë¦­í„° ìˆ˜: <span id="characterCount">0</span>ê°œ<br>
            â€¢ í…ìŠ¤íŠ¸: <span id="textLength">0</span>ê¸€ì<br>
            â€¢ ì˜ˆìƒ ì‹œê°„: <span id="estimatedTime">-</span>
          </div>
          
          <button class="btn btn-primary large" id="generateBtn" onclick="generateAudio()">
            ìŒì„± ë§Œë“¤ê¸°
          </button>
          
          <div class="progress" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          
          <div id="status" style="margin: 8px 0; font-size: 0.9rem; color: var(--muted); display: none;">
          </div>
          
          <audio controls id="audioPlayer" style="width: 100%; margin-top: 12px; display: none;"></audio>
          
          <div class="toolbar" id="downloadTools" style="margin-top: 12px; display: none;">
            <button class="btn" id="downloadBtn">ğŸ’¾ ë‹¤ìš´ë¡œë“œ</button>
            <button class="btn" onclick="shareAudio()">ğŸ”— ê³µìœ </button>
          </div>
          
          <div id="generationResult" style="display: none;"></div>
        </div>

      </div>
    </div>
  </div>

        <!-- API ì„¤ì • -->
        <div class="panel">
          <h2>ğŸ”‘ API ì„¤ì •</h2>
          
          <div class="api-status">
            <div class="status-dot" id="apiStatusDot"></div>
            <span id="apiStatusText">API ìƒíƒœ í™•ì¸ ì¤‘...</span>
          </div>
          
          <div style="margin-bottom: 8px;">
            <label style="display: block; margin-bottom: 4px; font-size: 0.9rem;">Google TTS API í‚¤</label>
            <input type="password" id="apiKey" placeholder="AIza..." autocomplete="off">
          </div>
          
          <div class="toolbar">
            <button class="btn small" onclick="saveApiKey()">ì €ì¥</button>
            <button class="btn small" onclick="testApiKey()">í…ŒìŠ¤íŠ¸</button>
            <button class="btn btn-danger small" onclick="clearApiKey()">ì‚­ì œ</button>
          </div>
          
          <div class="warning-msg">
            <strong>API í‚¤ ì–»ëŠ” ë°©ë²•:</strong><br>
            1. <a href="https://console.cloud.google.com" target="_blank">Google Cloud Console</a> ì ‘ì†<br>
            2. í”„ë¡œì íŠ¸ ìƒì„± í›„ "Text-to-Speech API" í™œì„±í™”<br>
            3. "ì‚¬ìš©ì ì¸ì¦ ì •ë³´" > "API í‚¤" ìƒì„±
          </div>
        </div>

  <script>
    // ì „ì—­ ë³€ìˆ˜
    let characters = {};
    let voices = [];
    let isGenerating = false;

    // í…ìŠ¤íŠ¸ ì „ì²´ ì‚­ì œ ê¸°ëŠ¥
function clearText() {
  if (confirm('í…ìŠ¤íŠ¸ë¥¼ ëª¨ë‘ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
    document.getElementById('textInput').value = '';
    updateCounter();
    saveSettings();
    showMessage('í…ìŠ¤íŠ¸ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'warning');
  }
}

    // ë‹¤í¬ëª¨ë“œ í† ê¸€
    function toggleTheme() {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      document.querySelector('.theme-toggle').textContent = next === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
    }

    // ì´ˆê¸° í…Œë§ˆ ì„¤ì •
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
    document.querySelector('.theme-toggle').textContent = savedTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';

    // í˜ì´ì§€ ë¡œë“œì‹œ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function() {
      loadSavedData();
      setupEventListeners();
      checkApiKey();
      loadVoices();
      renderCharacters();
      updateGenerationInfo();
    });

    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
    function setupEventListeners() {
      // í† ê¸€ ë²„íŠ¼
      document.querySelectorAll('.toggle').forEach(btn => {
        btn.addEventListener('click', function() {
          const pressed = this.getAttribute('aria-pressed') === 'true';
          this.setAttribute('aria-pressed', !pressed);
          this.textContent = pressed ? 'OFF' : 'ON';
          this.classList.toggle('btn-primary', !pressed);
          saveSettings();
        });
      });

      // í…ìŠ¤íŠ¸ ì…ë ¥ ì´ë²¤íŠ¸
      const textInput = document.getElementById('textInput');
      textInput.addEventListener('input', function() {
        updateCounter();
        updateGenerationInfo();
        saveSettings();
      });

      // ì„¤ì • ë³€ê²½ ì´ë²¤íŠ¸
      ['speakerPause', 'sentencePause', 'audioFormat', 'sampleRate', 'retryCount'].forEach(id => {
        document.getElementById(id).addEventListener('change', saveSettings);
      });

      // API í‚¤ ì…ë ¥ ì´ë²¤íŠ¸
      document.getElementById('apiKey').addEventListener('input', function() {
        if (this.value.length > 10) {
          checkApiKey();
        }
      });
    }

    // í…ìŠ¤íŠ¸ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
    function updateCounter() {
      const text = document.getElementById('textInput').value;
      document.getElementById('counter').textContent = text.length + ' ê¸€ì';
    }

    // ìƒì„± ì •ë³´ ì—…ë°ì´íŠ¸
    function updateGenerationInfo() {
      const text = document.getElementById('textInput').value;
      const characterCount = Object.keys(characters).length;
      const textLength = text.length;
      const estimatedSeconds = Math.ceil(textLength / 10); // ëŒ€ëµì ì¸ ì¶”ì •
      
      document.getElementById('characterCount').textContent = characterCount;
      document.getElementById('textLength').textContent = textLength;
      document.getElementById('estimatedTime').textContent = estimatedSeconds > 0 ? `ì•½ ${estimatedSeconds}ì´ˆ` : '-';
    }

    // ìºë¦­í„° ì°¾ê¸°
    function findCharacters() {
      const text = document.getElementById('textInput').value;
      const lines = text.split('\n');
      const foundCharacters = new Set();
      
      lines.forEach(line => {
        const match = line.match(/^([^:]+):/);
        if (match) {
          const name = match[1].trim();
          if (name.length > 0 && name.length < 20) {
            foundCharacters.add(name);
          }
        }
      });

      // ê¸°ë³¸ ìºë¦­í„°ê°€ ì—†ìœ¼ë©´ ì¶”ê°€
      if (!characters['ê¸°ë³¸']) {
        characters['ê¸°ë³¸'] = {
          voice: 'ko-KR-Neural2-A',
          style: 'normal'
        };
      }

      // ë°œê²¬ëœ ìºë¦­í„°ë“¤ ì¶”ê°€
      foundCharacters.forEach(name => {
        if (!characters[name]) {
          characters[name] = {
            voice: 'ko-KR-Neural2-B',
            style: 'normal'
          };
        }
      });

      if (foundCharacters.size > 0) {
        document.getElementById('charactersFound').style.display = 'block';
        document.getElementById('charactersFound').textContent = 
          `ë°œê²¬ëœ ìºë¦­í„°: ${Array.from(foundCharacters).join(', ')}`;
        renderCharacters();
        updateGenerationInfo();
        saveSettings();
      } else {
        showMessage('ìºë¦­í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. "ì´ë¦„: ëŒ€ì‚¬" í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
      }
    }

    // ìºë¦­í„° ì¶”ê°€
    function addCharacter() {
      const name = prompt('ìºë¦­í„° ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:');
      if (name && name.trim() && !characters[name.trim()]) {
        characters[name.trim()] = {
          voice: 'ko-KR-Neural2-A',
          style: 'normal'
        };
        renderCharacters();
        updateGenerationInfo();
        saveSettings();
      }
    }

    // ìºë¦­í„° ì‚­ì œ
    function deleteCharacter(name) {
      if (name === 'ê¸°ë³¸') {
        showMessage('ê¸°ë³¸ ìºë¦­í„°ëŠ” ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', 'warning');
        return;
      }
      if (confirm(`"${name}" ìºë¦­í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
        delete characters[name];
        renderCharacters();
        updateGenerationInfo();
        saveSettings();
      }
    }

    // ìºë¦­í„° ì´ˆê¸°í™”
    function resetCharacters() {
      if (confirm('ëª¨ë“  ìºë¦­í„° ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        characters = {
          'ê¸°ë³¸': {
            voice: 'ko-KR-Neural2-A',
            style: 'normal'
          }
        };
        renderCharacters();
        updateGenerationInfo();
        saveSettings();
      }
    }

    // ìºë¦­í„° ë Œë”ë§
    function renderCharacters() {
      const container = document.getElementById('characterList');
      container.innerHTML = '';

      Object.keys(characters).forEach(name => {
        const character = characters[name];
        const isDefault = name === 'ê¸°ë³¸';
        
        const card = document.createElement('div');
        card.className = `character-card ${isDefault ? 'default' : ''}`;
        
        card.innerHTML = `
          <div class="character-header">
            <span class="character-name">${name}</span>
            <span class="character-status ${character.voice ? 'status-ok' : 'status-warning'}">${character.voice ? 'âœ“' : '!'}</span>
          </div>
          <div class="voice-row">
            <label>ëª©ì†Œë¦¬</label>
            <select onchange="updateCharacterVoice('${name}', this.value)">
              ${getVoiceOptions(character.voice)}
            </select>
          </div>
          <div class="voice-row">
            <label>ìŠ¤íƒ€ì¼</label>
            <select onchange="updateCharacterStyle('${name}', this.value)">
              <option value="normal" ${character.style === 'normal' ? 'selected' : ''}>ë³´í†µ</option>
              <option value="slow" ${character.style === 'slow' ? 'selected' : ''}>ëŠë¦¬ê²Œ</option>
              <option value="fast" ${character.style === 'fast' ? 'selected' : ''}>ë¹ ë¥´ê²Œ</option>
              <option value="high" ${character.style === 'high' ? 'selected' : ''}>ë†’ê²Œ</option>
              <option value="low" ${character.style === 'low' ? 'selected' : ''}>ë‚®ê²Œ</option>
              <option value="slow-low" ${character.style === 'slow-low' ? 'selected' : ''}>ëŠë¦¬ê²Œ + ë‚®ê²Œ</option>
              <option value="fast-high" ${character.style === 'fast-high' ? 'selected' : ''}>ë¹ ë¥´ê²Œ + ë†’ê²Œ</option>
            </select>
          </div>
          <div class="character-actions">
            <button class="btn small" onclick="testCharacterVoice('${name}')">â–¶ í…ŒìŠ¤íŠ¸</button>
            ${!isDefault ? `<button class="btn btn-danger small" onclick="deleteCharacter('${name}')">âœ•</button>` : ''}
          </div>
          ${!character.voice ? '<div class="error-msg">ëª©ì†Œë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</div>' : ''}
        `;
        
        container.appendChild(card);
      });
    }

    // ëª©ì†Œë¦¬ ì˜µì…˜ ìƒì„±
    function getVoiceOptions(selectedVoice) {
      const defaultVoices = [
        { name: 'ko-KR-Neural2-A', label: 'ko-KR-Neural2-A (ì—¬ì„±, ê³ í’ˆì§ˆ)' },
        { name: 'ko-KR-Neural2-B', label: 'ko-KR-Neural2-B (ë‚¨ì„±, ê³ í’ˆì§ˆ)' },
        { name: 'ko-KR-Neural2-C', label: 'ko-KR-Neural2-C (ì—¬ì„±, ê³ í’ˆì§ˆ)' },
        { name: 'ko-KR-Wavenet-A', label: 'ko-KR-Wavenet-A (ì—¬ì„±, í”„ë¦¬ë¯¸ì—„)' },
        { name: 'ko-KR-Wavenet-B', label: 'ko-KR-Wavenet-B (ë‚¨ì„±, í”„ë¦¬ë¯¸ì—„)' },
        { name: 'ko-KR-Wavenet-C', label: 'ko-KR-Wavenet-C (ì—¬ì„±, í”„ë¦¬ë¯¸ì—„)' },
        { name: 'ko-KR-Wavenet-D', label: 'ko-KR-Wavenet-D (ë‚¨ì„±, í”„ë¦¬ë¯¸ì—„)' },
        { name: 'ko-KR-Standard-A', label: 'ko-KR-Standard-A (ì—¬ì„±, ê¸°ë³¸)' },
        { name: 'ko-KR-Standard-B', label: 'ko-KR-Standard-B (ë‚¨ì„±, ê¸°ë³¸)' },
        { name: 'ko-KR-Standard-C', label: 'ko-KR-Standard-C (ì—¬ì„±, ê¸°ë³¸)' },
        { name: 'ko-KR-Standard-D', label: 'ko-KR-Standard-D (ë‚¨ì„±, ê¸°ë³¸)' }
      ];

      if (voices.length > 0) {
        return voices.map(voice => 
          `<option value="${voice.name}" ${voice.name === selectedVoice ? 'selected' : ''}>${voice.name}</option>`
        ).join('');
      } else {
        return defaultVoices.map(voice => 
          `<option value="${voice.name}" ${voice.name === selectedVoice ? 'selected' : ''}>${voice.label}</option>`
        ).join('');
      }
    }

    // ìºë¦­í„° ëª©ì†Œë¦¬ ì—…ë°ì´íŠ¸
    function updateCharacterVoice(name, voice) {
      characters[name].voice = voice;
      renderCharacters();
      saveSettings();
    }

    // ìºë¦­í„° ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
    function updateCharacterStyle(name, style) {
      characters[name].style = style;
      saveSettings();
    }

    // ìºë¦­í„° ìŒì„± í…ŒìŠ¤íŠ¸
    async function testCharacterVoice(name) {
      const character = characters[name];
      if (!character.voice) {
        showMessage('ë¨¼ì € ëª©ì†Œë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”.', 'error');
        return;
      }

      const apiKey = localStorage.getItem('tts_api_key');
      if (!apiKey) {
        showMessage('API í‚¤ë¥¼ ë¨¼ì € ì„¤ì •í•˜ì„¸ìš”.', 'error');
        return;
      }

      try {
        const testText = `ì•ˆë…•í•˜ì„¸ìš”. ${name} ìºë¦­í„°ì…ë‹ˆë‹¤.`;
        const audioUrl = await synthesizeSpeech(testText, character.voice, character.style, apiKey);
        
        const audio = new Audio(audioUrl);
        audio.play();
        
        showMessage(`${name} ìºë¦­í„° ìŒì„±ì„ ì¬ìƒí•©ë‹ˆë‹¤.`, 'success');
      } catch (error) {
        showError('ìŒì„± í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ' + error.message);
      }
    }

    // ìŒì„± í•©ì„± í•¨ìˆ˜
    // ìŒì„± í•©ì„± í•¨ìˆ˜ (ìˆ˜ì •ëœ ë²„ì „)
async function synthesizeSpeech(text, voiceName, style, apiKey) {
  const url = `https://texttospeech.googleapis.com/v1/text:synthesize?key=${apiKey}`;
  
  // Chirp ëª¨ë¸ ê°ì§€
  const isChirp = voiceName.toLowerCase().includes('chirp');
  
  // ìŠ¤íƒ€ì¼ì— ë”°ë¥¸ ì„¤ì •
  let rate = 1.0;
  let pitch = 0.0;
  
  if (!isChirp) {
    // Chirpê°€ ì•„ë‹Œ ê²½ìš°ì—ë§Œ pitch ì ìš©
    switch (style) {
      case 'slow': rate = 0.8; break;
      case 'fast': rate = 1.3; break;
      case 'high': pitch = 4.0; break;
      case 'low': pitch = -4.0; break;
      case 'slow-low': rate = 0.8; pitch = -3.0; break;
      case 'fast-high': rate = 1.2; pitch = 3.0; break;
    }
  } else {
    // Chirp ëª¨ë¸ìš© ì œí•œëœ ì„¤ì • (ì†ë„ë§Œ ì¡°ì ˆ)
    switch (style) {
      case 'slow':
      case 'slow-low': rate = 0.8; break;
      case 'fast':
      case 'fast-high': rate = 1.2; break;
      case 'high':
      case 'low': 
        // pitchëŠ” ì ìš©í•˜ì§€ ì•Šê³  ì†ë„ë¡œë§Œ ì°¨ì´ ë§Œë“¤ê¸°
        rate = style === 'high' ? 1.1 : 0.9;
        break;
    }
  }

  const requestBody = {
    input: { text: text },
    voice: {
      languageCode: 'ko-KR',
      name: voiceName
    },
    audioConfig: {
      audioEncoding: document.getElementById('audioFormat').value,
      speakingRate: rate,
      sampleRateHertz: parseInt(document.getElementById('sampleRate').value)
    }
  };

  // Chirpê°€ ì•„ë‹Œ ê²½ìš°ì—ë§Œ pitch ì¶”ê°€
  if (!isChirp) {
    requestBody.audioConfig.pitch = pitch;
  }

  const response = await fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(requestBody)
  });

  if (!response.ok) {
    const error = await response.json();
    throw new Error(error.error?.message || 'ìŒì„± í•©ì„± ì‹¤íŒ¨');
  }

  const data = await response.json();
  const audioBytes = data.audioContent;
  
  // Base64ë¥¼ Blobìœ¼ë¡œ ë³€í™˜
  const byteCharacters = atob(audioBytes);
  const byteNumbers = new Array(byteCharacters.length);
  for (let i = 0; i < byteCharacters.length; i++) {
    byteNumbers[i] = byteCharacters.charCodeAt(i);
  }
  const byteArray = new Uint8Array(byteNumbers);
  
  const audioFormat = document.getElementById('audioFormat').value;
  const mimeType = audioFormat === 'MP3' ? 'audio/mpeg' : 
                 audioFormat === 'LINEAR16' ? 'audio/wav' : 'audio/ogg';
  
  const blob = new Blob([byteArray], { type: mimeType });
  return URL.createObjectURL(blob);
}

    // API í‚¤ ê´€ë ¨ í•¨ìˆ˜ë“¤
    function saveApiKey() {
      const apiKey = document.getElementById('apiKey').value.trim();
      if (!apiKey) {
        showMessage('API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”.', 'error');
        return;
      }
      
      localStorage.setItem('tts_api_key', apiKey);
      showMessage('API í‚¤ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
      checkApiKey();
      loadVoices();
    }

    function clearApiKey() {
      if (confirm('API í‚¤ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        localStorage.removeItem('tts_api_key');
        document.getElementById('apiKey').value = '';
        checkApiKey();
        showMessage('API í‚¤ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'warning');
      }
    }

    async function testApiKey() {
      const apiKey = document.getElementById('apiKey').value.trim() || localStorage.getItem('tts_api_key');
      if (!apiKey) {
        showMessage('API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”.', 'error');
        return;
      }

      try {
        updateApiStatus('testing', 'í…ŒìŠ¤íŠ¸ ì¤‘...');
        await loadVoices(apiKey);
        updateApiStatus('connected', 'API ì—°ê²° ì„±ê³µ');
        showMessage('API í‚¤ê°€ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤.', 'success');
      } catch (error) {
        updateApiStatus('disconnected', 'API ì—°ê²° ì‹¤íŒ¨');
        showError('API í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨: ' + error.message);
      }
    }

    function checkApiKey() {
      const apiKey = localStorage.getItem('tts_api_key');
      if (apiKey) {
        document.getElementById('apiKey').value = apiKey;
        updateApiStatus('connected', 'API í‚¤ ì €ì¥ë¨');
      } else {
        updateApiStatus('disconnected', 'API í‚¤ í•„ìš”');
      }
    }

    function updateApiStatus(status, message) {
      const dot = document.getElementById('apiStatusDot');
      const text = document.getElementById('apiStatusText');
      
      dot.className = 'status-dot';
      if (status === 'connected') {
        dot.classList.add('connected');
      } else if (status === 'disconnected') {
        dot.classList.add('disconnected');
      }
      
      text.textContent = message;
    }

    // ëª©ì†Œë¦¬ ëª©ë¡ ë¡œë“œ
    async function loadVoices(apiKey = null) {
      const key = apiKey || localStorage.getItem('tts_api_key');
      if (!key) return;

      try {
        const url = `https://texttospeech.googleapis.com/v1/voices?key=${key}`;
        const response = await fetch(url);
        
        if (!response.ok) {
          throw new Error('ëª©ì†Œë¦¬ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨');
        }
        
        const data = await response.json();
        voices = data.voices.filter(voice => 
          voice.languageCodes.includes('ko-KR')
        );
        
        renderCharacters(); // ëª©ì†Œë¦¬ ì˜µì…˜ ì—…ë°ì´íŠ¸
      } catch (error) {
        console.warn('ëª©ì†Œë¦¬ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:', error);
      }
    }

    // ëª©ì†Œë¦¬ ì„ íƒ ì‹œ Chirp ê²½ê³  í‘œì‹œ
if (voiceName.toLowerCase().includes('chirp')) {
  // Chirp ëª¨ë¸ ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ
  card.innerHTML += '<div class="warning-msg">Chirp ëª¨ë¸ì€ ìŒë†’ì´ ì¡°ì ˆì´ ì œí•œë©ë‹ˆë‹¤.</div>';
}

    // ë©”ì¸ ìŒì„± ìƒì„± í•¨ìˆ˜
    async function generateAudio() {
      if (isGenerating) return;
      
      const apiKey = localStorage.getItem('tts_api_key');
      if (!apiKey) {
        showError('API í‚¤ë¥¼ ë¨¼ì € ì„¤ì •í•˜ì„¸ìš”.');
        return;
      }

      const text = document.getElementById('textInput').value.trim();
      if (!text) {
        showError('í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
      }

      // ìºë¦­í„° ëª©ì†Œë¦¬ í™•ì¸
      const missingVoices = Object.keys(characters).filter(name => !characters[name].voice);
      if (missingVoices.length > 0) {
        showError(`ë‹¤ìŒ ìºë¦­í„°ì˜ ëª©ì†Œë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”: ${missingVoices.join(', ')}`);
        return;
      }

      try {
        isGenerating = true;
        updateGenerateButton(true);
        showProgress(0, 'í…ìŠ¤íŠ¸ ë¶„ì„ ì¤‘...');

        // í…ìŠ¤íŠ¸ íŒŒì‹±
        const segments = parseText(text);
        
        if (segments.length === 0) {
          throw new Error('ì²˜ë¦¬í•  í…ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.');
        }

        // ê° ì„¸ê·¸ë¨¼íŠ¸ë³„ ìŒì„± ìƒì„±
        const audioUrls = [];
        for (let i = 0; i < segments.length; i++) {
          const segment = segments[i];
          const progress = ((i + 1) / segments.length) * 100;
          showProgress(progress, `${segment.character} ìŒì„± ìƒì„± ì¤‘... (${i + 1}/${segments.length})`);
          
          const audioUrl = await synthesizeSpeech(
            segment.text, 
            characters[segment.character].voice,
            characters[segment.character].style,
            apiKey
          );
          
          audioUrls.push(audioUrl);
          
          // í™”ì ì „í™˜ ì‰¬ê¸° ì‹œê°„ ì¶”ê°€ (ë§ˆì§€ë§‰ ì„¸ê·¸ë¨¼íŠ¸ ì œì™¸)
          if (i < segments.length - 1) {
            const pauseMs = parseInt(document.getElementById('speakerPause').value);
            if (pauseMs > 0) {
              await new Promise(resolve => setTimeout(resolve, pauseMs));
            }
          }
        }

        // ì²« ë²ˆì§¸ ì˜¤ë””ì˜¤ë§Œ ì¬ìƒ (ì™„ì „í•œ í•©ì„±ì€ ë³µì¡í•¨)
        if (audioUrls.length > 0) {
          showProgress(100, 'ì™„ë£Œ!');
          showGeneratedAudio(audioUrls[0], segments.length);
          
          if (audioUrls.length > 1) {
            showMessage(`${audioUrls.length}ê°œ ìŒì„±ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ìŒì„±ë§Œ ì¬ìƒë©ë‹ˆë‹¤.`, 'warning');
          }
        }

      } catch (error) {
        showError('ìŒì„± ìƒì„± ì‹¤íŒ¨: ' + error.message);
      } finally {
        isGenerating = false;
        updateGenerateButton(false);
        hideProgress();
      }
    }

    // í…ìŠ¤íŠ¸ íŒŒì‹±
    function parseText(text) {
      const lines = text.split('\n').filter(line => line.trim());
      const segments = [];
      
      for (const line of lines) {
        const match = line.match(/^([^:]+):\s*(.+)$/);
        if (match) {
          const character = match[1].trim();
          const dialogue = match[2].trim();
          
          if (characters[character]) {
            segments.push({
              character: character,
              text: dialogue
            });
          } else {
            // ì•Œ ìˆ˜ ì—†ëŠ” ìºë¦­í„°ëŠ” ê¸°ë³¸ ìºë¦­í„°ë¡œ
            segments.push({
              character: 'ê¸°ë³¸',
              text: line
            });
          }
        } else {
          // í˜•ì‹ì´ ë§ì§€ ì•ŠëŠ” ë¼ì¸ì€ ê¸°ë³¸ ìºë¦­í„°ë¡œ
          segments.push({
            character: 'ê¸°ë³¸',
            text: line
          });
        }
      }
      
      return segments;
    }

    // UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë“¤
    function updateGenerateButton(generating) {
      const btn = document.getElementById('generateBtn');
      if (generating) {
        btn.innerHTML = '<span class="loading"></span> ìƒì„± ì¤‘...';
        btn.disabled = true;
      } else {
        btn.innerHTML = 'ìŒì„± ë§Œë“¤ê¸°';
        btn.disabled = false;
      }
    }

    function showProgress(percent, message) {
      const progressBar = document.getElementById('progressBar');
      const progressFill = document.getElementById('progressFill');
      const status = document.getElementById('status');
      
      progressBar.style.display = 'block';
      progressFill.style.width = percent + '%';
      status.style.display = 'block';
      status.textContent = message;
    }

    function hideProgress() {
      document.getElementById('progressBar').style.display = 'none';
      document.getElementById('status').style.display = 'none';
    }

    function showGeneratedAudio(audioUrl, segmentCount) {
      const player = document.getElementById('audioPlayer');
      const downloadTools = document.getElementById('downloadTools');
      const downloadBtn = document.getElementById('downloadBtn');
      
      player.src = audioUrl;
      player.style.display = 'block';
      downloadTools.style.display = 'flex';
      
      // ë‹¤ìš´ë¡œë“œ ë§í¬ ì„¤ì •
      downloadBtn.onclick = () => {
        const a = document.createElement('a');
        a.href = audioUrl;
        a.download = `tts-audio-${new Date().toISOString().slice(0, 19).replace(/[:.]/g, '-')}.${getFileExtension()}`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
      };

      showMessage('ìŒì„±ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
    }

    function getFileExtension() {
      const format = document.getElementById('audioFormat').value;
      return format === 'MP3' ? 'mp3' : format === 'LINEAR16' ? 'wav' : 'ogg';
    }

    // ë©”ì‹œì§€ í‘œì‹œ
    function showMessage(message, type = 'info') {
      const className = type === 'error' ? 'error-msg' : 
                      type === 'warning' ? 'warning-msg' : 'success-msg';
      
      const div = document.createElement('div');
      div.className = className;
      div.textContent = message;
      
      document.body.appendChild(div);
      div.style.position = 'fixed';
      div.style.top = '80px';
      div.style.right = '20px';
      div.style.zIndex = '1000';
      div.style.maxWidth = '300px';
      
      setTimeout(() => {
        if (div.parentNode) {
          div.parentNode.removeChild(div);
        }
      }, 3000);
    }

    function showError(message) {
      showMessage(message, 'error');
    }

    // í¸ì§‘ ë„êµ¬ í•¨ìˆ˜ë“¤
    function addNameToSelection() {
      const textarea = document.getElementById('textInput');
      const start = textarea.selectionStart;
      const end = textarea.selectionEnd;
      
      if (start === end) {
        showMessage('í…ìŠ¤íŠ¸ë¥¼ ì„ íƒí•œ í›„ ì‚¬ìš©í•˜ì„¸ìš”.', 'warning');
        return;
      }
      
      const name = prompt('ì¶”ê°€í•  ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:');
      if (!name) return;
      
      const selectedText = textarea.value.substring(start, end);
      const newText = `${name}: ${selectedText}`;
      
      textarea.value = textarea.value.substring(0, start) + newText + textarea.value.substring(end);
      updateCounter();
    }

    function alternateNames() {
      const nameA = prompt('ì²« ë²ˆì§¸ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:');
      if (!nameA) return;
      
      const nameB = prompt('ë‘ ë²ˆì§¸ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:');
      if (!nameB) return;
      
      const textarea = document.getElementById('textInput');
      const lines = textarea.value.split('\n');
      let currentName = nameA;
      
      const newLines = lines.map(line => {
        if (line.trim() && !line.includes(':')) {
          const result = `${currentName}: ${line}`;
          currentName = currentName === nameA ? nameB : nameA;
          return result;
        }
        return line;
      });
      
      textarea.value = newLines.join('\n');
      updateCounter();
    }

    // ê³µìœ  ê¸°ëŠ¥
    function shareAudio() {
      if (navigator.share) {
        navigator.share({
          title: 'TTS ìƒì„± ìŒì„±',
          text: 'TTSë¡œ ìƒì„±í•œ ìŒì„±ì…ë‹ˆë‹¤.',
          url: window.location.href
        });
      } else {
        // ë¸Œë¼ìš°ì €ê°€ Web Share APIë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°
        const url = window.location.href;
        navigator.clipboard.writeText(url).then(() => {
          showMessage('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
        }).catch(() => {
          showMessage('ë§í¬ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
        });
      }
    }

    // ì„¤ì • ì €ì¥/ë¡œë“œ
    function saveSettings() {
      const settings = {
        characters: characters,
        textInput: document.getElementById('textInput').value,
        speakerPause: document.getElementById('speakerPause').value,
        sentencePause: document.getElementById('sentencePause').value,
        autoSplit: document.getElementById('autoSplit').getAttribute('aria-pressed') === 'true',
        audioFormat: document.getElementById('audioFormat').value,
        sampleRate: document.getElementById('sampleRate').value,
        retryCount: document.getElementById('retryCount').value
      };
      
      localStorage.setItem('tts_settings', JSON.stringify(settings));
    }

    function loadSavedData() {
      try {
        const settings = JSON.parse(localStorage.getItem('tts_settings') || '{}');
        
        if (settings.characters) {
          characters = settings.characters;
        } else {
          // ê¸°ë³¸ ìºë¦­í„° ì„¤ì •
          characters = {
            'ê¸°ë³¸': {
              voice: 'ko-KR-Neural2-A',
              style: 'normal'
            }
          };
        }
        
        if (settings.textInput) {
          document.getElementById('textInput').value = settings.textInput;
        }
        
        if (settings.speakerPause) {
          document.getElementById('speakerPause').value = settings.speakerPause;
        }
        
        if (settings.sentencePause) {
          document.getElementById('sentencePause').value = settings.sentencePause;
        }
        
        if (settings.autoSplit !== undefined) {
          const btn = document.getElementById('autoSplit');
          btn.setAttribute('aria-pressed', settings.autoSplit);
          btn.textContent = settings.autoSplit ? 'ON' : 'OFF';
          btn.classList.toggle('btn-primary', settings.autoSplit);
        }
        
        if (settings.audioFormat) {
          document.getElementById('audioFormat').value = settings.audioFormat;
        }
        
        if (settings.sampleRate) {
          document.getElementById('sampleRate').value = settings.sampleRate;
        }
        
        if (settings.retryCount) {
          document.getElementById('retryCount').value = settings.retryCount;
        }
        
      } catch (error) {
        console.warn('ì„¤ì • ë¡œë“œ ì‹¤íŒ¨:', error);
      }
    }
  </script>
</body>
</html>